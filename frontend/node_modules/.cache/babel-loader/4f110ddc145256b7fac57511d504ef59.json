{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/django-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button}from'@material-ui/core';import MonetizationOnIcon from'@material-ui/icons/MonetizationOn';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import CheckIcon from'@material-ui/icons/Check';import Fab from'@material-ui/core/Fab';var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(3)}}};});function Point(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),userPoint=_useState2[0],setUserPoint=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var classes=useStyles();useEffect(function(){fetch('http://39.118.174.168:8000/api/current_user/',{headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).then(function(json){// 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\nif(json.id){setUserId(json.id);//유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\n}fetch('http://39.118.174.168:8000/api/profile/'+json.id+'/update/',{method:'PATCH',headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();})// 데이터베이스에서 가져오는 정확한 명\n.then(function(userData){setUserPoint(userData.point);}).catch(function(error){console.log(error);});;}).catch(function(error){console.log(error);});},[userId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"here\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"here_left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uBCF4\\uC720 \\uD3EC\\uC778\\uD2B8 : \",userPoint,\"P\\u3000\",/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",startIcon:/*#__PURE__*/_jsx(MonetizationOnIcon,{}),href:\"/pointcg\",children:\"\\uCDA9\\uC804\\uD558\\uAE30\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD658\\uC804 \\uC2E0\\uCCAD\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"\\uAE08\\uC561\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",variant:\"outlined\",size:\"small\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"\\uC608\\uAE08\\uC8FC\",variant:\"outlined\",size:\"small\"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"\\uACC4\\uC88C\\uBC88\\uD638(-\\uC81C\\uC678)\",variant:\"outlined\",size:\"small\"}),/*#__PURE__*/_jsx(\"div\",{className:\"check\",children:/*#__PURE__*/_jsxs(Fab,{variant:\"extended\",size:\"small\",color:\"primary\",\"aria-label\":\"add\",className:classes.margin,children:[/*#__PURE__*/_jsx(CheckIcon,{className:classes.extendedIcon}),\"\\uD658\\uC804\\uD558\\uAE30\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"here_right\"})]});}export default Point;","map":{"version":3,"sources":["C:/django-react/frontend/src/Sidebar/Point.js"],"names":["React","useState","useEffect","Button","MonetizationOnIcon","makeStyles","TextField","CheckIcon","Fab","useStyles","theme","root","margin","spacing","Point","userPoint","setUserPoint","userId","setUserId","classes","fetch","headers","Authorization","localStorage","getItem","then","res","json","id","method","userData","point","catch","error","console","log","extendedIcon"],"mappings":"uOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CAEA,GAAMC,CAAAA,SAAS,CAAGJ,UAAU,CAAC,SAACK,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJ,QAAS,CACPC,MAAM,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADD,CADL,CADiC,CAAZ,EAAD,CAA5B,CAQA,QAASC,CAAAA,KAAT,EAAiB,eACiBb,QAAQ,EADzB,wCACVc,SADU,eACCC,YADD,8BAEWf,QAAQ,EAFnB,yCAEVgB,MAFU,eAEFC,SAFE,eAIf,GAAMC,CAAAA,OAAO,CAAGV,SAAS,EAAzB,CACAP,SAAS,CAAC,UAAI,CACZkB,KAAK,CAAC,8CAAD,CAAiD,CACpDC,OAAO,CAAE,CACPC,aAAa,eAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT,CADN,CAD2C,CAAjD,CAAL,CAKCC,IALD,CAKM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALT,EAMCF,IAND,CAMM,SAAAE,IAAI,CAAI,CACZ;AACA,GAAIA,IAAI,CAACC,EAAT,CAAa,CACXV,SAAS,CAACS,IAAI,CAACC,EAAN,CAAT,CACA;AACH,CAAAR,KAAK,CAAC,0CAA4CO,IAAI,CAACC,EAAjD,CAAsD,UAAvD,CAAkE,CAChEC,MAAM,CAAG,OADuD,CAEhER,OAAO,CAAE,CACLC,aAAa,eAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT,CADR,CAFuD,CAAlE,CAAL,CAMIC,IANJ,CAMS,SAACC,GAAD,QAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,EANT,CAOG;AAPH,CAQIF,IARJ,CAQS,SAACK,QAAD,CAAa,CAEfd,YAAY,CAACc,QAAQ,CAACC,KAAV,CAAZ,CAEH,CAZJ,EAaIC,KAbJ,CAaU,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAfN,EAeQ,CACR,CA3BD,EA2BGD,KA3BH,CA2BS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CA7BH,EA8BH,CA/BU,CA+BT,CAAChB,MAAD,CA/BS,CAAT,CAkCA,mBAEM,aAAK,SAAS,CAAC,MAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACN,0CADM,cAEN,aAFM,cAGJ,2DAAcF,SAAd,wBAEI,KAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CACQ,IAAI,CAAC,OADb,CAEQ,SAAS,cAAE,KAAC,kBAAD,IAFnB,CAGQ,IAAI,CAAC,UAHb,sCAFJ,GAHI,cAYJ,aAZI,cAaJ,aAbI,cAcJ,aAdI,cAeJ,aAfI,cAgBJ,aAhBI,cAiBJ,iDAjBI,cAkBJ,aAlBI,cAmBJ,aAnBI,cAoBJ,aApBI,cAqBJ,KAAC,SAAD,EAAW,EAAE,CAAC,gBAAd,CAA+B,KAAK,CAAC,mDAArC,CAAiD,OAAO,CAAC,UAAzD,CACsB,IAAI,CAAC,OAD3B,EArBI,cAuBJ,aAvBI,cAwBJ,KAAC,SAAD,EAAW,EAAE,CAAC,gBAAd,CAA+B,KAAK,CAAC,oBAArC,CAA2C,OAAO,CAAC,UAAnD,CACsB,IAAI,CAAC,OAD3B,EAxBI,cA0BJ,KAAC,SAAD,EAAW,EAAE,CAAC,gBAAd,CAA+B,KAAK,CAAC,yCAArC,CAAiD,OAAO,CAAC,UAAzD,CACA,IAAI,CAAC,OADL,EA1BI,cA6BJ,YAAK,SAAS,CAAC,OAAf,uBACA,MAAC,GAAD,EACE,OAAO,CAAC,UADV,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAC,SAHR,CAIE,aAAW,KAJb,CAKE,SAAS,CAAEI,OAAO,CAACP,MALrB,wBAQE,KAAC,SAAD,EAAW,SAAS,CAAEO,OAAO,CAACiB,YAA9B,EARF,8BADA,EA7BI,GADJ,cA6CF,YAAK,SAAS,CAAC,YAAf,EA7CE,GAFN,CAsDD,CACD,cAAetB,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(3),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Point() {\r\n  let [userPoint, setUserPoint] = useState()\r\n  let [userId, setUserId] = useState()\r\n\r\n  const classes = useStyles();\r\n  useEffect(()=>{\r\n    fetch('http://39.118.174.168:8000/api/current_user/', {\r\n      headers: {\r\n        Authorization: `JWT ${localStorage.getItem('token')}`\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      // 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\r\n      if (json.id) {\r\n        setUserId(json.id)\r\n        //유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\r\n    }fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/',{\r\n            method : 'PATCH',\r\n            headers: {\r\n                Authorization: `JWT ${localStorage.getItem('token')}`\r\n            },\r\n        })\r\n        .then((res)=>res.json())\r\n        // 데이터베이스에서 가져오는 정확한 명\r\n        .then((userData)=> {\r\n         \r\n            setUserPoint(userData.point)\r\n            \r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n          });;\r\n    }).catch(error => {\r\n        console.log(error)\r\n      });\r\n},[userId])\r\n\r\n\r\n  return (\r\n      \r\n        <div className=\"here\">\r\n            <div className=\"here_left\">\r\n      <h1>포인트</h1>\r\n      <br />\r\n        <h3>보유 포인트 : {userPoint}P　\r\n\r\n            <Button variant=\"outlined\"\r\n                    size=\"small\"\r\n                    startIcon={<MonetizationOnIcon />}\r\n                    href=\"/pointcg\"\r\n                    >\r\n                      충전하기\r\n                  </Button></h3>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <h1>환전 신청</h1>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <TextField id=\"outlined-basic\" label=\"금액을 입력하세요\" variant=\"outlined\"\r\n                              size=\"small\" />\r\n        <br />\r\n        <TextField id=\"outlined-basic\" label=\"예금주\" variant=\"outlined\"\r\n                              size=\"small\" />\r\n        <TextField id=\"outlined-basic\" label=\"계좌번호(-제외)\" variant=\"outlined\"\r\n        size=\"small\" />\r\n        \r\n        <div className=\"check\">\r\n        <Fab \r\n          variant=\"extended\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          aria-label=\"add\"\r\n          className={classes.margin}\r\n        >\r\n          \r\n          <CheckIcon className={classes.extendedIcon} />\r\n          환전하기\r\n          \r\n        </Fab>\r\n        </div>\r\n      </div>\r\n      <div className=\"here_right\">\r\n     \r\n\r\n      </div>\r\n      </div>\r\n    \r\n  )\r\n}\r\nexport default Point;"]},"metadata":{},"sourceType":"module"}