{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\django-react\\\\frontend\\\\src\\\\views\\\\RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Avatar from '@material-ui/core/Avatar';\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    children: ['Copyright © ', /*#__PURE__*/_jsxDEV(Link, {\n      color: \"inherit\",\n      href: \"/\",\n      children: \"LoLtopia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), ' ', new Date().getFullYear(), '.']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Copyright;\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '400px',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(2)\n  },\n  submit: {\n    display: 'flex',\n    alignitems: 'center',\n    justifycontent: 'center',\n    position: 'relative',\n    margin: theme.spacing(2, 0, 2)\n  }\n}));\n\nfunction RegisterPage(props) {\n  _s();\n\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [first_name, setName] = useState(\"\");\n  const [ConfirmPasword, setConfirmPasword] = useState(\"\");\n  const [phonenum, setPhone] = useState(\"010\");\n  const [username, setUserName] = useState(\"\");\n\n  const onUserNameHandler = e => {\n    props.setConfirm(false);\n    setUserName(e.currentTarget.value);\n  };\n\n  const onPasswordHanlder = e => {\n    setPassword(e.currentTarget.value);\n  };\n\n  const onConfirmPasswordHandler = e => {\n    setConfirmPasword(e.currentTarget.value);\n  };\n\n  const onNameHandler = e => {\n    const curValue = e.currentTarget.value;\n    const newValue = curValue.replace(/[a-z0-9]|[ \\[\\]{}()<>?|`~!@#$%^&*-_+=,.;:\\\"'\\\\]/g, '');\n    setName(newValue);\n  };\n\n  const onPhonenumHandler = e => {\n    const curValue = e.currentTarget.value;\n    const newValue = curValue.replace(/[^0-9]/g, '');\n\n    if (newValue.length <= 11) {\n      setPhone(newValue);\n    }\n  };\n\n  const onEmailHandler = e => {\n    setEmail(e.currentTarget.value);\n  };\n\n  const username_ex = useState([]);\n\n  const IdConfirm = e => {\n    fetch('http://39.118.174.168:3653/api/list/').then(res => res.json()).then(post => {\n      post.slice(0).map(a => {\n        username_ex.push(a.username);\n      });\n\n      if (username.length >= 5) {\n        if (username_ex.indexOf(username) !== -1) {\n          alert(\"중복된 아이디입니다.\");\n        } else {\n          alert(\"사용가능한 아이디입니다.\");\n          props.setConfirm(true);\n        }\n      } else {\n        alert(\"아이디가 5자 이상이여야 합니다.\");\n      } // if(post.username.indexOf(username) !== -1 ){\n      //   console.log(\"same\")\n      // }\n\n    });\n  };\n\n  const emailConfirm = /^(([^<>()\\[\\].,;:\\s@\"]+(\\.[^<>()\\[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    console.log(props.idConfirm);\n\n    if (props.idConfirm === true) {\n      if (password.length >= 8) {\n        if (password === ConfirmPasword) {\n          if (phonenum.length === 11) {\n            if (first_name.length === 3 || first_name.length === 2 || first_name.length === 4) {\n              if (email.length >= 7) {\n                if (emailConfirm.test(email)) {\n                  const body = {\n                    username: username,\n                    password: password,\n                    first_name: first_name,\n                    phonenum: phonenum,\n                    email: email\n                  };\n                  fetch('http://39.118.174.168:3653/api/register/', {\n                    method: 'POST',\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(body)\n                  }).then(res => res.json()).then(json => {\n                    if (json.username && json.token) {\n                      alert(\"가입이 정상적으로 완료되었습니다.\");\n                      props.userHasAuthenticated(true, json.username, json.token);\n                      props.history.push(\"/\");\n                      props.setModal(true);\n                    }\n                  }).catch(error => alert(error));\n                } else {\n                  alert(\"정확한 이메일을 입력해주세요\");\n                }\n              } else {\n                alert(\"정확한 이메일을 입력해주세요\");\n              }\n            } else {\n              alert(\"정확한 이름을 입력해주세요\");\n            }\n          } else {\n            alert(\"정확한 전화번호를 입력해주세요.\");\n          }\n        } else {\n          alert(\"비밀번호가 일치하지 않습니다.\");\n        }\n      } else {\n        alert(\"비밀번호가 너무 짧습니다.\");\n      }\n    } else {\n      alert(\"아이디 중복 확인이 필요합니다.\");\n    }\n  };\n\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") return onSubmitHandler(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"\\uBB34\\uB8CC \\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              fullWidth: true,\n              label: \"\\uC544\\uC774\\uB514\",\n              autoFocus: true,\n              value: username,\n              onChange: onUserNameHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: IdConfirm,\n              children: \"\\uC911\\uBCF5\\uD655\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              type: \"password\",\n              required: true,\n              fullWidth: true,\n              label: \"\\uBE44\\uBC00\\uBC88\\uD638(8\\uC790 \\uC774\\uC0C1)\",\n              autoFocus: true,\n              value: password,\n              onChange: onPasswordHanlder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              type: \"password\",\n              fullWidth: true,\n              label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n              autoFocus: true,\n              value: ConfirmPasword,\n              onChange: onConfirmPasswordHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              fullWidth: true,\n              label: \"\\uC804\\uD654\\uBC88\\uD638\",\n              autoFocus: true,\n              value: phonenum,\n              onChange: onPhonenumHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              fullWidth: true,\n              label: \"\\uC774\\uB984\",\n              autoFocus: true,\n              value: first_name,\n              onChange: onNameHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              fullWidth: true,\n              label: \"\\uC774\\uBA54\\uC77C\",\n              autoFocus: true,\n              value: email,\n              onChange: onEmailHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                value: \"\",\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 26\n              }, this),\n              label: \"\\uC774\\uC6A9\\uC57D\\uAD00\\uC758 \\uB3D9\\uC758\\uD558\\uC2ED\\uB2C8\\uAE4C?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onSubmitHandler,\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          onKeyPress: handleKeyPress,\n          children: \"\\uD68C\\uC6D0 \\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justify: \"flex-end\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/login\",\n              variant: \"body2\",\n              children: \"\\uC774\\uBBF8 \\uD68C\\uC6D0\\uC774\\uC2DC\\uB77C\\uBA74 \\uB85C\\uADF8\\uC778 \\uD558\\uC138\\uC694!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 5,\n      children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegisterPage, \"tq1QUIjan0EKNrvGvp/UuAntVPU=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = RegisterPage;\nexport default _c3 = withRouter(RegisterPage);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"RegisterPage\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["C:/django-react/frontend/src/views/RegisterPage.js"],"names":["React","useState","withRouter","Button","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","Avatar","Copyright","Date","getFullYear","useStyles","theme","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","alignitems","justifycontent","position","RegisterPage","props","classes","email","setEmail","password","setPassword","first_name","setName","ConfirmPasword","setConfirmPasword","phonenum","setPhone","username","setUserName","onUserNameHandler","e","setConfirm","currentTarget","value","onPasswordHanlder","onConfirmPasswordHandler","onNameHandler","curValue","newValue","replace","onPhonenumHandler","length","onEmailHandler","username_ex","IdConfirm","fetch","then","res","json","post","slice","map","a","push","indexOf","alert","emailConfirm","onSubmitHandler","preventDefault","console","log","idConfirm","test","body","method","headers","JSON","stringify","token","userHasAuthenticated","history","setModal","catch","error","handleKeyPress","key"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        LoLtopia\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    \r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '400px', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  submit: {\r\n    display: 'flex',\r\n    alignitems: 'center',\r\n    justifycontent: 'center',\r\n    position: 'relative',\r\n    margin: theme.spacing(2, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\n\r\nfunction RegisterPage(props) {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [first_name, setName] = useState(\"\");\r\n  const [ConfirmPasword, setConfirmPasword] = useState(\"\");\r\n  const [phonenum, setPhone] = useState(\"010\");\r\n  const [username, setUserName] = useState(\"\");\r\n\r\n  const onUserNameHandler = (e) => {\r\n    props.setConfirm(false);\r\n    setUserName(e.currentTarget.value);\r\n  };\r\n\r\n  const onPasswordHanlder = (e) => {\r\n    setPassword(e.currentTarget.value);\r\n  };\r\n\r\n  const onConfirmPasswordHandler = (e) => {\r\n    setConfirmPasword(e.currentTarget.value);\r\n  };\r\n  \r\n  const onNameHandler = (e) => {\r\n    const curValue = e.currentTarget.value;\r\n    const newValue = curValue.replace(/[a-z0-9]|[ \\[\\]{}()<>?|`~!@#$%^&*-_+=,.;:\\\"'\\\\]/g, '');\r\n    setName(newValue);\r\n  };\r\n\r\n\r\n  const onPhonenumHandler = (e) => {\r\n    const curValue = e.currentTarget.value;\r\n    const newValue = curValue.replace(/[^0-9]/g, '');\r\n    if(newValue.length <= 11)\r\n      {setPhone(newValue);}\r\n  };\r\n\r\n  const onEmailHandler = (e) => {\r\n    setEmail(e.currentTarget.value);\r\n  };\r\n\r\n  const username_ex = useState([]);\r\n  const IdConfirm = (e) => {\r\n    fetch('http://39.118.174.168:3653/api/list/')\r\n    .then(res => res.json())\r\n    .then((post) =>{\r\n      \r\n      post.slice(0).map((a) =>{\r\n        username_ex.push(a.username)\r\n      })\r\n      if(username.length >= 5){\r\n        if(username_ex.indexOf(username) !== -1) {\r\n          alert(\"중복된 아이디입니다.\");\r\n        } else{\r\n          alert(\"사용가능한 아이디입니다.\");\r\n          props.setConfirm(true);\r\n        }\r\n      }\r\n      else{\r\n        alert(\"아이디가 5자 이상이여야 합니다.\")\r\n      }\r\n      \r\n      // if(post.username.indexOf(username) !== -1 ){\r\n      //   console.log(\"same\")\r\n      // }\r\n    })\r\n  };\r\n  const emailConfirm = /^(([^<>()\\[\\].,;:\\s@\"]+(\\.[^<>()\\[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    console.log(props.idConfirm)\r\n    if (props.idConfirm === true){\r\n    if (password.length >= 8){\r\n    if (password === ConfirmPasword) {\r\n    if (phonenum.length === 11){\r\n    if (first_name.length === 3 || first_name.length === 2 || first_name.length === 4){\r\n    if (email.length >= 7){\r\n    if (emailConfirm.test(email)){\r\n      const body = {\r\n            username: username,\r\n            password : password,\r\n            first_name : first_name,\r\n            phonenum : phonenum,\r\n            email : email,\r\n        };\r\n    fetch('http://39.118.174.168:3653/api/register/', {\r\n      method: 'POST',\r\n      headers:{\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body : JSON.stringify(body)\r\n    }).then(res => res.json())\r\n    .then(json => {\r\n      if (json.username && json.token) {\r\n        alert(\"가입이 정상적으로 완료되었습니다.\");\r\n        props.userHasAuthenticated(true, json.username, json.token);\r\n        props.history.push(\"/\");\r\n        props.setModal(true);\r\n      }\r\n    }).catch(error => alert(error));\r\n  } else{\r\n    alert(\"정확한 이메일을 입력해주세요\");\r\n  }\r\n  } else {\r\n      alert(\"정확한 이메일을 입력해주세요\");\r\n    } \r\n  } else {\r\n    alert(\"정확한 이름을 입력해주세요\");\r\n    } \r\n  } else {\r\n      alert(\"정확한 전화번호를 입력해주세요.\");\r\n    }\r\n  } else{\r\n        alert(\"비밀번호가 일치하지 않습니다.\");\r\n    }\r\n  } else{\r\n      alert(\"비밀번호가 너무 짧습니다.\");\r\n    }\r\n  } else{\r\n      alert(\"아이디 중복 확인이 필요합니다.\");\r\n    }\r\n};\r\n\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") \r\n         return onSubmitHandler(e);\r\n  };\r\n\r\n  return (\r\n\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        \r\n        <Typography \r\n        component=\"h1\" \r\n        variant=\"h5\"\r\n        >\r\n        무료 회원가입\r\n        </Typography>\r\n\r\n\r\n      <form>\r\n      <Grid container spacing={2}>\r\n\r\n      <Grid item xs={12} sm={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"아이디\"\r\n                autoFocus\r\n                value={username}\r\n                onChange={onUserNameHandler}\r\n              />\r\n              <button onClick={IdConfirm}>\r\n                중복확인\r\n              </button>\r\n\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                required\r\n                fullWidth\r\n                label=\"비밀번호(8자 이상)\"\r\n                autoFocus\r\n                value={password} \r\n                onChange={onPasswordHanlder}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                type=\"password\"\r\n                fullWidth\r\n                label=\"비밀번호 확인\"\r\n                autoFocus\r\n                value={ConfirmPasword} \r\n                onChange={onConfirmPasswordHandler}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"전화번호\"\r\n                autoFocus\r\n                value={phonenum} \r\n                onChange={onPhonenumHandler}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"이름\"\r\n                autoFocus\r\n                value={first_name} \r\n                onChange={onNameHandler}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"이메일\"\r\n                autoFocus\r\n                value={email} \r\n                onChange={onEmailHandler}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"\" color=\"primary\" />}\r\n                label=\"이용약관의 동의하십니까?\"\r\n                \r\n              />\r\n              </Grid>\r\n              </Grid>\r\n        \r\n        <Button onClick={onSubmitHandler}\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onKeyPress={handleKeyPress}\r\n                >회원 가입</Button>\r\n\r\n\r\n\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                     <Link href=\"/login\" variant=\"body2\">\r\n                      이미 회원이시라면 로그인 하세요! \r\n                      </Link>\r\n                  </Grid>\r\n                </Grid>\r\n      </form>\r\n    </div>\r\n    <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(RegisterPage);"]},"metadata":{},"sourceType":"module"}